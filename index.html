<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <!--<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>-->
    <script
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
      defer
    ></script>
    <title>Kalvi Kraft ‚Äì Learn Mathematics, Power Your Mind</title>
    <link rel="icon" type="image/png" href="assets/logo.png" />
    <meta name="description" content="Kalvi Kraft is a global educational platform for math learners and quiz enthusiasts. Learn, test and grow.">
    <meta name="keywords" content="math, quiz, definitions, education, learn math, mathematics quiz">
    <meta name="author" content="Kalvi Kraft">
  </head>
  <body>
    <div class="container">
      <!-- Left Ad Column -->
      <aside class="ads">
        <div class="ad">
          <script
            async
            src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6602675729982728"
            crossorigin="anonymous"
          ></script>
          <!-- kalvikraft 1 -->
          <ins
            class="adsbygoogle"
            style="display: block"
            data-ad-client="ca-pub-6602675729982728"
            data-ad-slot="9131927510"
            data-ad-format="auto"
            data-full-width-responsive="true"
          ></ins>
          <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
        <div class="ad">
          <script
            async
            src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6602675729982728"
            crossorigin="anonymous"
          ></script>
          <!-- kalvikraft2 -->
          <ins
            class="adsbygoogle"
            style="display: block"
            data-ad-client="ca-pub-6602675729982728"
            data-ad-slot="2215165376"
            data-ad-format="auto"
            data-full-width-responsive="true"
          ></ins>
          <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="content">
        <h1>Welcome to Kalvi Kraft</h1>
        <nav class="nav">
          <a href="index.html"> <img src="assets/logo.png" alt="Kalvi Kraft Logo" class="logo" style="height: 15px"/></a>
          <a href="materials.html">Study Materials</a>
          <a href="old-qps.html">Old Question Papers</a>
          <a href="youtube-classes.html" class="active">YouTube Classes</a>
          <a href="quiz.html">Aptitude & Reasoning Quiz</a>
          <!-- <a href="shortener.html">Link Shortener</a> -->
          <a href="definitions.html">Definitions Treasures</a>
          <a href="games.html">Games</a>
        </nav>
        <section class="about-section">
          <h2>üìò About Kalvi Kraft</h2>
          <p>
            <strong>Kalvi Kraft</strong> is a student-driven educational
            platform created to support mathematics learning and exam
            preparation which is built for Mathematics students and professors
            across Tamil Nadu. Our goal is to make resources like study
            materials, question papers, definitions, and quizzes freely
            accessible to all students, especially those in Tamil Nadu. This
            platform is maintained with care to ensure quality and accuracy. We
            continuously update the site based on student feedback and syllabus
            needs.
          </p>
          <p>
            If you want to contribute (Question Papers, Study Materials and
            more) to our website contact us from the bottom of the page.
          </p>

          <h3>‚ö†Ô∏è Disclaimer</h3>
          <p>
            Kalvi Kraft is an unofficial resource hub and is not affiliated with
            any university or educational board. All materials provided are for
            educational purposes only. We do not guarantee accuracy or
            completeness of any content. Users are advised to cross-verify from
            official sources where applicable.
          </p>
          <p style="text-align: center">
            <a href="/privacy.html">Privacy Policy</a> |
            <a href="/terms.html">Terms & Conditions</a>
          </p>
        </section>
      </main>

      <!-- Right Side Panel -->
      <aside class="sidebar">
        <div class="notifications">
          <ul id="notification-list">
            <li>Loading notifications...</li>
          </ul>
        </div>
        <div class="leaderboard">
          <table id="leaderboard-table">
            <thead>
              <tr>
                <th>Rank</th>
                <th>Name</th>
                <th>Score</th>
              </tr>
            </thead>
            <tbody id="leaderboard-list">
              <tr>
                <td colspan="3">Loading...</td>
              </tr>
            </tbody>
          </table>
        </div>
      </aside>
    </div>

    <!-- Footer -->
    <footer>
      <div class="footer-bar">
        <a
          href="https://youtube.com/@kalvikraft"
          target="_blank"
          class="youtube-bar"
        >
          <img
            src="https://upload.wikimedia.org/wikipedia/commons/0/09/YouTube_full-color_icon_(2017).svg"
            alt="YouTube"
            class="yt-logo"
          />
          <span>Kalvi Kraft YouTube</span>
        </a>

        <button id="toggleMode" class="mode-toggle ripple">üåì</button>

        <a href="contact.html" class="contact-bar">
          <img
            src="https://cdn-icons-png.flaticon.com/512/561/561127.png"
            alt="Contact"
            class="contact-icon"
          />
          <span>Contact Us</span>
        </a>
      </div>
    </footer>

    <!-- Notifications Script -->
    <script>
      fetch('json/notifications.json')
        .then((response) => response.json())
        .then((data) => {
          const list = document.getElementById('notification-list');
          list.innerHTML = '';
          data.slice(0, 5).forEach((item) => {
            const li = document.createElement('li');
            if (item.link) {
              li.innerHTML = `<a href="${item.link}" target="_blank">${item.message}</a>`;
            } else {
              li.textContent = item.message;
            }
            list.appendChild(li);
          });

          // Auto scroll the list
          let index = 0;
          setInterval(() => {
            const items = document.querySelectorAll('#notification-list li');
            items.forEach((li, i) => {
              li.style.display = i === index ? 'block' : 'none';
            });
            index = (index + 1) % items.length;
          }, 2500);
        })
        .catch(() => {
          document.getElementById('notification-list').innerHTML =
            '<li>Failed to load notifications.</li>';
        });
    </script>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
    <script>
      const firebaseConfig = {
        apiKey: 'AIzaSyAGrQ2f94bl5bbQzqTM_fU0xwnRCusQN14',
        authDomain: 'kalvi-kraft.firebaseapp.com',
        databaseURL:
          'https://kalvi-kraft-default-rtdb.asia-southeast1.firebasedatabase.app',
        projectId: 'kalvi-kraft',
        storageBucket: 'kalvi-kraft.appspot.com',
        messagingSenderId: '535767835272',
        appId: '1:535767835272:web:56d04e7c7d6f611194753d',
        measurementId: 'G-S1YJCR79MN',
      };
      firebase.initializeApp(firebaseConfig);

      function loadLeaderboard() {
        firebase
          .database()
          .ref('leaderboard')
          .once('value')
          .then((snapshot) => {
            const scores = [];
            snapshot.forEach((child) => {
              scores.push(child.val());
            });
            scores.sort((a, b) => b.score - a.score);
            const list = document.getElementById('leaderboard-list');
            list.innerHTML = '';
            scores.slice(0, 10).forEach((item, index) => {
              const tr = document.createElement('tr');
              tr.innerHTML = `<td>${index + 1}</td><td>${item.name}</td><td>${
                item.score
              }</td>`;
              list.appendChild(tr);
            });
          })
          .catch(() => {
            document.getElementById('leaderboard-list').innerHTML =
              '<tr><td colspan="3">‚ö†Ô∏è Failed to load leaderboard</td></tr>';
          });
      }

      loadLeaderboard();
    </script>

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-S1YJCR79MN"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'G-S1YJCR79MN');
    </script>

    <!-- Dark Mode -->
    <script>
      const toggleBtn = document.getElementById('toggleMode');
      const body = document.body;

      // Load saved preference
      if (localStorage.getItem('dark-mode') === 'true') {
        body.classList.add('dark-mode');
      }

      toggleBtn.addEventListener('click', () => {
        body.classList.toggle('dark-mode');
        localStorage.setItem('dark-mode', body.classList.contains('dark-mode'));
      });
    </script>

    <!-- Cookie Consent -->
    <div
      id="cookie-consent"
      style="
        position: fixed;
        bottom: 0;
        width: 100%;
        background: #222;
        color: #fff;
        padding: 16px;
        text-align: center;
        font-size: 14px;
        z-index: 9999;
      "
    >
      We use cookies to improve your experience. By using our site, you agree to
      our
      <a href="privacy.html" style="color: #4ecdc4">Privacy Policy</a>.
      <button
        onclick="acceptCookies()"
        style="
          background: #4ecdc4;
          border: none;
          padding: 8px 16px;
          margin-left: 12px;
          color: #000;
          font-weight: bold;
          cursor: pointer;
          border-radius: 5px;
        "
      >
        Accept
      </button>
    </div>

    <script>
      function acceptCookies() {
        localStorage.setItem('cookiesAccepted', 'true');
        document.getElementById('cookie-consent').style.display = 'none';
      }

      window.onload = function () {
        if (localStorage.getItem('cookiesAccepted') === 'true') {
          document.getElementById('cookie-consent').style.display = 'none';
        }
      };
    </script>

    <!-- Auto Scroll -->
    <script>
      const footerBar = document.querySelector('.footer-bar');
      let lastScrollTop = 0;

      window.addEventListener('scroll', () => {
        const scrollTop =
          window.pageYOffset || document.documentElement.scrollTop;

        if (scrollTop > lastScrollTop) {
          // Scrolling down
          footerBar.classList.add('hide');
        } else {
          // Scrolling up
          footerBar.classList.remove('hide');
        }

        lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
      });
    </script>
  </body>
</html>
